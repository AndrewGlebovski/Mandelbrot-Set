# Mandelbrot Set


## Цель


Научиться оптимизировать повторяющиеся однотипные вычисления на CPU с помощью SIMD и писать красивые README.


## Ход работы


Множество Мандельброта - является одним из наиболее известных фракталов, а также интересной задачей с точки зрения оптимизации, поскольку цвет каждого пикселя вычисляется по рекуррентной формуле.

Сначала будем вычислять цвет каждого "наивным" образом, т.е. по одному пикселю за итерацию внутреннего цикла. Далее воспользуемся SIMD и будем считать по 8 пикселей за итерацию (Команды AVX2 используют регистры на 256 бит, значит в один регистр вмещается 8 float чисел). Замерим и сравним FPS в обоих случаях.


## Результат


**Особенности исполнения**
- Все измерения производились с опцией -O3 компилятора gcc, а также набором инструкций AVX2.
- Для того, чтобы уменьшить влияние факторов, не связанных с вычислением множества, я вычисляю каждый пиксель по 100 раз после чего умножаю полученный FPS на 100.

Средний FPS полученный измерением "на глаз":

| SIMD | FPS |
| ---- | --- |
| Off  | 8   |
| On   | 56  |

Коэффициент ускорения:

|                | Коэффициент ускорения |
| -------------- | --------------------- |
| Теоретический  | 8                     |
| Практический   | 7                     |


## Вывод


SIMD позволяют добиться невероятных коэффициентов ускорения, однако для этого требуется выстроить особую структуру программы, так как компилятор не способен сам выполнить такую оптимизацию.
